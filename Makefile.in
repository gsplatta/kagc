
SHELL 		= /bin/sh
top_srcdir 	= @top_srcdir@
srcdir 		= @srcdir@
VPATH 		= @srcdir@

.SUFFIXES:
.SUFFIXES: .c .o

OPT 		= -g -O

AR 		= ar
AR_FLAGS 	= rc
RANLIB 		= @RANLIB@

CC 		= @CC@
CFLAGS 		= -I @CFLAGS@
LDFLAGS 	= @LDFLAGS@
LIBS		= @LIBS@
INSTALL		= @INSTALL@
prefix		= @prefix@
exec_prefix	= @exec_prefix@
bindir		= $(exec_prefix)/bin
libdir		= $(prefix)/lib
infodir		= $(prefix)/info

SOURCES		=
DOCS		=
MISC		=
OBJS		=
LIB_OBJS	=


all:

# Not all of these will be necessary.
install: all
	$(top_srcdir)/mkinstalldirs $(bindir)
	$(top_srcdir)/mkinstalldirs $(libdir)
	$(top_srcdir)/mkinstalldirs $(infodir)
	$(INSTALL) PROG $(bindir)/PROG
	$(INSTALL) libMYPROG.a $(libdir)/libMYPROG.a
	$(INSTALL) PROG.info $(infodir)/PROG.info

uninstall:
	/bin/rm -f libMYPROG.a
	$(AR) $(AR_FLAGS) libMYPROG.a $(LIB_OBJS)
	$(RANLIB) libMYPROG.a

PROG: $(OBJS) libMYPROG.a
	$(CC) $(CFLAGS) -o PROG $(OBJS) $(LIBS)

clean:
	/bin/rm -f core *.o $(OBJS) $(LIB_OBJS) libMYPROG.a

distclean: clean
	/bin/rm -f Makefile config.h config.status config.cache config/log marklib.dvi

mostlyclean: clean

maintainer-clean: clean

PROG.info: PROG.texi
	makeinfo PROG.texi

#automatic re-running of configure if configure.in file has changed
${srcdir}/configure: configure.in aclocal.m4
	cd ${srcdir} && autoconf

#autoheader might not change config.h.in, so touch a stamp file
${srcdir}/config.h.in: stamp-h.in
${srcdir}/stamp-h.in: configure.in aclocal.m4
	cd ${srcdir} && autoheader
	echo timestamp > ${srcdir}/stamp-h.in

config.h: stamp-h
stamp-h: config.h.in config.status
	./config.status
Makefile: Makefile.in config.status
	./config.status
config.status: configure
	./config.status --recheck
